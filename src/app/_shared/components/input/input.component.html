<div class="input_container" [ngClass]="{ flat: shape === 'flat' }">
  @if (label) {
  <label
    [for]="id"
    [ngClass]="{ animated_label: control.value }"
    (click)="focusInput(inputElement)"
    [style.background-color]="bg"
  >
    {{ label }}
  </label>
  }
  <input
    [ngClass]="{ error_input: control.dirty && control.invalid }"
    [type]="type"
    [formControl]="control"
    [id]="id"
    [placeholder]="isFocused ? placeholder : ''"
    #inputElement
    (focus)="onFocus()"
    (blur)="onBlur()"
    (input)="handleChange($event)"
    [attr.maxlength]="type === 'phoneNumber' ? 14 : null"
    [style.background-color]="bg"
    [ngClass]="{ flat: shape === 'flat' }"
  />

  <span
    class="error_message"
    [ngClass]="{ visible: control.touched && control.dirty && control.invalid }"
  >
    {{ errorMessage }}
  </span>
</div>
